---
import type { EnrichedTweet } from "./api.ts";
import { formatNumber } from "./api.ts";

interface Props {
	tweet: EnrichedTweet;
}

const { tweet } = Astro.props;
const conversationCount = tweet.conversation_count;

const repliesText = (() => {
	if (conversationCount === 0) return "Read more on X";
	if (conversationCount === 1) return `Read ${formatNumber(conversationCount)} reply`;
	return `Read ${formatNumber(conversationCount)} replies`;
})();
---

<div class="tweet-replies">
	<a href={tweet.url} class="tweet-replies-link" target="_blank" rel="noopener noreferrer">
		<span class="tweet-replies-text">{repliesText}</span>
	</a>
</div>
